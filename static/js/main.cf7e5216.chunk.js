(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),l=(n(14),n(4)),s=n(8),i=n(1),u=(n(5),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?e.replace(new RegExp(t,"gi"),'<span class="hilited">'.concat(t,"</span>")):e}),m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"object"===typeof t?Object.keys(t).map((function(n){return"<strong>".concat(n,":</strong> </br>").concat(e(t[n]))})).join("</br>"):u(t,n)};var d=function(e){var t=e.user,n=e.keys,r=e.onValueSave,o=e.filters,l=Object(a.useState)(""),s=Object(i.a)(l,2),u=s[0],d=s[1],f=Object(a.useState)(""),b=Object(i.a)(f,2),h=b[0],E=b[1],v=function(){d(""),E("")},p=function(e){var n=e.target.dataset.field,a=document.querySelector("#user-field-".concat(t.id,"-").concat(n," input")).value;r(t.id,n,a),v()},g=function(e){E(e.target.value)};return c.a.createElement(c.a.Fragment,null,n.map((function(e){return e===u?c.a.createElement("td",{id:"user-field-".concat(t.id,"-").concat(e)},c.a.createElement("input",{type:"text",className:"form-control",value:h,onChange:g}),c.a.createElement("button",{"data-field":e,className:"btn btn-primary btn-sm margin-left mt-1",onClick:p},"Save"),c.a.createElement("button",{className:"btn btn-secondary btn-sm margin-left mt-1",onClick:v},"Cancel")):"id"!==e&&"company"!==e&&"address"!==e?c.a.createElement("td",{onDoubleClick:function(){d(e),E(t[e])}},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:m(t[e],o[e])}})):c.a.createElement("td",null,c.a.createElement("div",{dangerouslySetInnerHTML:{__html:m(t[e])}}))})))};var f=function(e){var t=e.users,n=e.keys,a=e.onValueSave,r=e.filters;return c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement("tr",null," ",c.a.createElement(d,{user:e,keys:n,onValueSave:a,filters:r}))})))},b=c.a.createElement("svg",{className:"bi bi-search",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}));var h=function(e){var t=e.label,n=e.setSearch,a=e.valueSearch,r=e.filterMode,o=e.cancelSearch,l=e.setValueSearch,s=e.setFilterMode,i=e.labelEdit,u=e.setLabelEdit;return e.searchText,"id"!==t&&i===t&&r?c.a.createElement("th",{className:"border"},t,c.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:function(e){l(e.target.value)}}),c.a.createElement("button",{onClick:function(){return n(t,a)}},"Search"),c.a.createElement("button",{onClick:function(){o(),l("")}},"Cancel")):"id"===t||"company"===t||"address"===t?c.a.createElement("th",{className:"border"},t):c.a.createElement("th",{className:"border"},t,c.a.createElement("button",{onClick:function(){l(""),u(t),s(!0)}},b))};n(15);var E=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),m=u[0],d=u[1],b=Object(a.useState)([]),E=Object(i.a)(b,2),v=E[0],p=E[1],g=Object(a.useState)(!1),j=Object(i.a)(g,2),O=j[0],S=j[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),k=w[0],C=w[1],N=Object(a.useState)(""),L=Object(i.a)(N,2),M=L[0],x=L[1],F=Object(a.useState)(""),V=Object(i.a)(F,2),H=V[0],T=V[1],_=Object(a.useState)(!1),z=Object(i.a)(_,2),B=z[0],I=z[1],R=Object(a.useState)({}),J=Object(i.a)(R,2),W=J[0],q=J[1],D=function(){x(""),I(!1),d(n),T(""),q({})},$=function(e,t){var n=m.filter((function(n){return n[e].toLowerCase().includes(t.toLowerCase())}));d(n),W[e]=t,q(Object(s.a)({},W))},A=function(){window.innerHeight+document.documentElement.scrollTop<document.documentElement.offsetHeight-100||(console.log("Fetch more list items!"),C(!0))};return Object(a.useEffect)((function(){return window.addEventListener("scroll",A),function(){return window.removeEventListener("scroll",A)}}),[]),Object(a.useEffect)((function(){var e;k&&!B&&fetch("https://jsonplaceholder.cypress.io/users").then((function(e){return e.json()})).then((function(t){t.map((function(t,n){return e=m.length+n+1,t.id=e,t}));var n=[].concat(Object(l.a)(m),Object(l.a)(t));d(n),r(n),C(!1)})).catch((function(e){return console.log(e)}))}),[k,m,B]),c.a.createElement("div",null,O?"...Loading":"",c.a.createElement("button",{className:"btn btn-primary",onClick:function(){S(!0),fetch("https://jsonplaceholder.cypress.io/users").then((function(e){return e.json()})).then((function(e){d(e),r(e),p(Object.keys(e[0])),S(!1)})).catch((function(e){return console.log(e)}))},disabled:O},O?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),c.a.createElement("div",{className:"text-center mb-4"}),c.a.createElement("span",{className:"sr-only-"},"Loading...")):"Load users"),!!v.length&&!!m.length&&c.a.createElement("table",{className:"border"},c.a.createElement("tr",{className:"border"},v.map((function(e){return c.a.createElement(h,{label:e,setSearch:$,valueSearch:M,filterMode:B,setFilterMode:I,cancelSearch:D,setValueSearch:x,labelEdit:H,setLabelEdit:T})}))),c.a.createElement(f,{users:m,keys:v,onValueSave:function(e,t,n){m.find((function(t){return t.id===e}))[t]=n,d(Object(l.a)(m))},filters:W})),k)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,n){},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.cf7e5216.chunk.js.map